<?php/** * class AbstractAction * @author William Bruno * @package wbruno 1.0beta 27/08/2010 */abstract class AbstractAction{	protected $dao, $vo;	public function __construct(ValueObject $vo, DAO $dao) {		$this->vo = $vo;		$this->dao = $dao;	}	public function del()	{		$this->set_post();		$result = $this->dao->del( $this->vo );		return $result;	}	public function save()	{		$this->set_post();		$result = $this->dao->save( $this->vo );		return $result;	}	private function byId( $id )	{		$dao = $this->dao;		$query = $dao->query( $dao->select( $this->vo )->byId( (int)$id ) );		$dados = $query->fetch_object();		$this->set_dados( $dados );	}	public function set_dados( $dados )	{		if( is_object($dados) )		{			$_SESSION['error_msg'] = '';			$this->do_set_dados( $dados );		}		else			$_SESSION['error_msg'] = '<li class="red"><span class="ico"></span>				<strong class="system_title">Esse registro n√£o existe!</strong></li>';	}	abstract public function set_post();	abstract public function do_set_dados( $dados );}